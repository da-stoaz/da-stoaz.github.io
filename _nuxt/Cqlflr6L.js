import{L as R,M as J,q as k,N as q,O as K,P as j,I as U,J as X,Q as M,n as z,R as x,D as Z,f as b,d as Q,S as ee,r as P,c as S,o as y,e as A,g as h,T as te,y as G,v as ne,U as se,i as oe,a as I,b as ie,F as le,h as re,t as T,s as ae,j as ue,w as ce}from"./DqA0wvgn.js";import{u as de}from"./BAj6X1XV.js";import{u as B}from"./D54JuXSh.js";import{u as F}from"./DbDqPOJ7.js";import"./CWY8yeRe.js";import"./iBF5vbor.js";import"./BPKLwf0D.js";function fe(e){return q()?(K(e),!0):!1}const N=new WeakMap,ve=(...e)=>{var t;const l=e[0],o=(t=j())==null?void 0:t.proxy;if(o==null&&!U())throw new Error("injectLocal must be called in setup");return o&&N.has(o)&&l in N.get(o)?N.get(o)[l]:X(...e)},Y=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const me=Object.prototype.toString,pe=e=>me.call(e)==="[object Object]",C=()=>{},he=ge();function ge(){var e,t;return Y&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function D(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function O(e){return Array.isArray(e)?e:[e]}function we(e){return j()}function be(e,t=!0,l){we()?R(e,l):t?e():J(e)}function xe(e,t,l){return k(e,t,{...l,immediate:!0})}const L=Y?window:void 0;function W(e){var t;const l=x(e);return(t=l==null?void 0:l.$el)!=null?t:l}function _(...e){const t=[],l=()=>{t.forEach(n=>n()),t.length=0},o=(n,i,r,p)=>(n.addEventListener(i,r,p),()=>n.removeEventListener(i,r,p)),a=z(()=>{const n=O(x(e[0])).filter(i=>i!=null);return n.every(i=>typeof i!="string")?n:void 0}),g=xe(()=>{var n,i;return[(i=(n=a.value)==null?void 0:n.map(r=>W(r)))!=null?i:[L].filter(r=>r!=null),O(x(a.value?e[1]:e[0])),O(b(a.value?e[2]:e[1])),x(a.value?e[3]:e[2])]},([n,i,r,p])=>{if(l(),!(n!=null&&n.length)||!(i!=null&&i.length)||!(r!=null&&r.length))return;const m=pe(p)?{...p}:p;t.push(...n.flatMap(d=>i.flatMap(v=>r.map(u=>o(d,v,u,m)))))},{flush:"post"}),c=()=>{g(),l()};return fe(l),c}let H=!1;function ye(e,t,l={}){const{window:o=L,ignore:a=[],capture:g=!0,detectIframe:c=!1,controls:n=!1}=l;if(!o)return n?{stop:C,cancel:C,trigger:C}:C;if(he&&!H){H=!0;const s={passive:!0};Array.from(o.document.body.children).forEach(f=>_(f,"click",C,s)),_(o.document.documentElement,"click",C,s)}let i=!0;const r=s=>x(a).some(f=>{if(typeof f=="string")return Array.from(o.document.querySelectorAll(f)).some(w=>w===s.target||s.composedPath().includes(w));{const w=W(f);return w&&(s.target===w||s.composedPath().includes(w))}});function p(s){const f=x(s);return f&&f.$.subTree.shapeFlag===16}function m(s,f){const w=x(s),V=w.$.subTree&&w.$.subTree.children;return V==null||!Array.isArray(V)?!1:V.some($=>$.el===f.target||f.composedPath().includes($.el))}const d=s=>{const f=W(e);if(s.target!=null&&!(!(f instanceof Element)&&p(e)&&m(e,s))&&!(!f||f===s.target||s.composedPath().includes(f))){if("detail"in s&&s.detail===0&&(i=!r(s)),!i){i=!0;return}t(s)}};let v=!1;const u=[_(o,"click",s=>{v||(v=!0,setTimeout(()=>{v=!1},0),d(s))},{passive:!0,capture:g}),_(o,"pointerdown",s=>{const f=W(e);i=!r(s)&&!!(f&&!s.composedPath().includes(f))},{passive:!0}),c&&_(o,"blur",s=>{setTimeout(()=>{var f;const w=W(e);((f=o.document.activeElement)==null?void 0:f.tagName)==="IFRAME"&&!(w!=null&&w.contains(o.document.activeElement))&&t(s)},0)},{passive:!0})].filter(Boolean),E=()=>u.forEach(s=>s());return n?{stop:E,cancel:()=>{i=!1},trigger:s=>{i=!0,d(s),i=!1}}:E}function _e(){const e=M(!1),t=j();return t&&R(()=>{e.value=!0},t),e}function Se(e){const t=_e();return z(()=>(t.value,!!e()))}const Ee=Symbol("vueuse-ssr-width");function Ce(){const e=U()?ve(Ee,null):null;return typeof e=="number"?e:void 0}function ke(e,t={}){const{window:l=L,ssrWidth:o=Ce()}=t,a=Se(()=>l&&"matchMedia"in l&&typeof l.matchMedia=="function"),g=M(typeof o=="number"),c=M(),n=M(!1),i=r=>{n.value=r.matches};return Z(()=>{if(g.value){g.value=!a.value;const r=x(e).split(",");n.value=r.some(p=>{const m=p.includes("not all"),d=p.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),v=p.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let u=!!(d||v);return d&&u&&(u=o>=D(d[1])),v&&u&&(u=o<=D(v[1])),m?!u:u});return}a.value&&(c.value=l.matchMedia(x(e)),n.value=c.value.matches)}),_(c,"change",i,{passive:!0}),z(()=>n.value)}function Me(e={}){const{window:t=L,initialWidth:l=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:a=!0,includeScrollbar:g=!0,type:c="inner"}=e,n=M(l),i=M(o),r=()=>{if(t)if(c==="outer")n.value=t.outerWidth,i.value=t.outerHeight;else if(c==="visual"&&t.visualViewport){const{width:m,height:d,scale:v}=t.visualViewport;n.value=Math.round(m*v),i.value=Math.round(d*v)}else g?(n.value=t.innerWidth,i.value=t.innerHeight):(n.value=t.document.documentElement.clientWidth,i.value=t.document.documentElement.clientHeight)};r(),be(r);const p={passive:!0};if(_("resize",r,p),t&&c==="visual"&&t.visualViewport&&_(t.visualViewport,"resize",r,p),a){const m=ke("(orientation: portrait)");k(m,()=>r())}return{width:n,height:i}}const We={class:"lex flex-grow w-full bg-blue-500"},Ae={key:0,class:"w-full flex justify-end"},Ie={key:1,class:"text-2xl text-surface-300 text-center"},Pe={key:2,class:"w-full grid grid-cols-3 gap-0"},Le=Q({__name:"EventCard",props:{isLarge:Boolean},emits:["close"],setup(e,{emit:t}){const l=t,o=e,a=ee("target");ye(a,c=>g()),P(400);const g=()=>{console.log("fuck off"),l("close")};return k(()=>o.isLarge,c=>{}),(c,n)=>(y(),S("div",We,[o.isLarge?(y(),S("div",{key:0,onClick:g,class:"m-0 p-0.5 bg-green-500 w-full relative min-h-32"})):A("",!0),h("div",{ref_key:"target",ref:a,class:G(["m-0 p-0.5 bg-red-500 relative border-l w-full   max-w-[920px] min-h-32 transition-all duration-300",{"!absolute !bg-blue-400 p-6 !w-[90vw] border border-surface-400 rounded-xl bottom-1/2 right-1/2 translate-x-1/2 translate-y-1/2":o.isLarge}])},[o.isLarge?(y(),S("div",Ae,n[0]||(n[0]=[h("i",{class:"pi pi-times"},null,-1)]))):A("",!0),o.isLarge?(y(),S("h3",Ie," Dienstag, 23. April ")):A("",!0),te(c.$slots,"default"),o.isLarge?(y(),S("div",Pe,n[1]||(n[1]=[h("div",{class:"font-bold text-center border-b"},"Platz 1",-1),h("div",{class:"font-bold text-center border-b"},"Platz 2",-1),h("div",{class:"font-bold text-center border-b"},"Platz 3",-1)]))):A("",!0),n[2]||(n[2]=h("div",{class:"w-full grid grid-cols-3 gap-0"},[h("div",{class:"bg-green-400 text-center"},"U12"),h("div",{class:"text-center"},"U12"),h("div",{class:"text-center"},"U12")],-1))],2)]))}}),Ve=Object.assign(Le,{__name:"EventV2EventCard"}),Te={class:"lg:w-[90vw] mx-auto"},Ne={class:"flex flex-row items-center gap-1 md:gap-2 lg:gap-4"},Oe={class:"w-full h-fit flex flex-row"},Re={class:"flex flex-row w-full max-w-[100vw]"},je={class:"text-center font-bold"},Qe=Q({__name:"overviewV2",setup(e){const t=ne(),l=de();let o=l.user.isAuthenticated?B():F();R(()=>{window.addEventListener("resize",r),r()}),se(()=>{window.removeEventListener("resize",r)});const{width:a,height:g}=Me();var c=P(3);const n=P(Array(c.value).fill(!1)),i=P({});console.log(i),k(()=>o.reservations,m=>{i.value=m.reduce((d,v)=>{const u=v.time.split(" ")[0],E=v.time.split(" ")[1];return u&&!d[u]&&(d[u]=[]),u&&(d[u]||(d[u]=[]),E&&d[u].push(E)),d},{})},{immediate:!0});const r=()=>{a.value<340?c.value=1:a.value<540||a.value<899?c.value=3:a.value>=800&&a.value<1200?c.value=5:a.value>=1200&&(c.value=7),console.log(c.value)},p=m=>{n.value[m]=!1};return k(c,(m,d)=>{const v=Array(m).fill(!1);for(let u=0;u<Math.min(m,d);u++)v[u]=n.value[u];n.value=v}),k(()=>l.user.isAuthenticated,m=>{o=m?B():F(),o.getReservations()}),l.setRedirectRoute(t.currentRoute.value.fullPath),(m,d)=>{const v=ae,u=Ve;return y(),S("div",Te,[h("div",{class:G(["container flex flex-row gap-3  justify-center items-center mb-4 md:mb-6",{"justify-between":b(a)>800}])},[I(v,{icon:"pi pi-search",severity:"help",label:b(a)>800?"Datum Suchen":"",rounded:""},null,8,["label"]),h("div",Ne,[I(v,{icon:"pi pi-angle-left",rounded:""}),d[0]||(d[0]=h("span",{class:"font-bold text-lg mx-1"},"Apr. 12-14",-1)),I(v,{icon:"pi pi-angle-right",rounded:""})]),I(v,{icon:"pi pi-plus",severity:"success",label:b(a)>800?"Neue Reservierung":"",rounded:""},null,8,["label"])],2),h("div",Oe,[d[1]||(d[1]=ie('<div class="timeline px-1 md:px-4 bg-yellow-300 flex flex-col"><div class="">16:00</div><div class="">16:00</div><div class="">17:00</div><div class="">16:00</div><div class="">18:00</div></div>',1)),h("div",Re,[(y(!0),S(le,null,re(b(n),(E,s)=>(y(),ue(u,{class:"flex flex-grow overflow-hidden",onClick:f=>b(n)[s]=!b(n)[s],onClose:f=>p(s),"is-large":b(n)[s]},{default:ce(()=>[h("div",je," Day "+T(s),1)]),_:2},1032,["onClick","onClose","is-large"]))),256))])]),oe(" Width: "+T(b(a))+" Height: "+T(b(g)),1)])}}});export{Qe as default};
